<nav class="navbar navbar-light bg-light shadow-sm">
  <div
    class="container-fluid d-flex justify-content-between align-items-center px-3"
  >
    <h3 class="fw-bold">{{ title }}</h3>
    <!-- Dropdown wrapper -->
    <div class="dropdown">
      <a
        class="d-flex align-items-center text-decoration-none"
        href="#"
        role="button"
        id="userDropdown"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <img
          [src]="userImage"
          alt="User Avatar"
          class="rounded-circle me-2"
          width="40"
          height="40"
          style="object-fit: cover"
          (error)="userImage = 'assets/profile.png'"
        />

        <div class="d-flex flex-column me-1">
          <span class="fw-bold text-dark" style="line-height: 1">{{
            username
          }}</span>
          <small class="text-muted" style="line-height: 1">{{ role }}</small>
        </div>

        <!-- Only manual caret -->
        <i class="bi bi-caret-down-fill text-muted"></i>
      </a>

      <!-- Dropdown Menu -->
      <ul
        class="dropdown-menu dropdown-menu-end shadow"
        aria-labelledby="userDropdown"
        style="min-width: 230px"
      >
        <li>
          <a
            class="dropdown-item d-flex align-items-center"
            routerLink="/profile"
          >
            <i class="bi bi-person me-2"></i> Edit Profile
          </a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center" (click)="logout()">
            <i class="bi bi-box-arrow-right me-2"></i> Logout
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
